/*! For license information please see component---src-pages-search-tsx-c7eb024626489a0904c1.js.LICENSE.txt */
(self.webpackChunktony_pepe_blog=self.webpackChunktony_pepe_blog||[]).push([[334],{8872:function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,a,s,o,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(i(a=this._events[e]))return!1;if(n(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),a.apply(this,o)}else if(r(a))for(o=Array.prototype.slice.call(arguments,1),s=(u=a.slice()).length,c=0;c<s;c++)u[c].apply(this,o);return!0},t.prototype.addListener=function(e,a){var s;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(a.listener)?a.listener:a),this._events[e]?r(this._events[e])?this._events[e].push(a):this._events[e]=[this._events[e],a]:this._events[e]=a,r(this._events[e])&&!this._events[e].warned&&(s=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,a,s,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(i=this._events[e]).length,a=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(o=s;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){a=o;break}if(a<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},4489:function(e,t,n){n(5743),n(4944),n(3792),function(e){"use strict";var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{c(r.next(e))}catch(t){a(t)}}function o(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,o)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function s(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function c(e){var t={exports:{}};return e(t,t.exports),t.exports}var u=c((function(e){!function(e){!function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function r(e){return e&&DataView.prototype.isPrototypeOf(e)}if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function l(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function d(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}function p(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&r(e)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=o(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function b(e,t){var n=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=m(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function R(e){var t=new u;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function O(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var j=[301,302,303,307,308];O.redirect=function(e,t){if(-1===j.indexOf(t))throw new RangeError("Invalid status code");return new O(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(x){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,r){return new Promise((function(i,a){var s=new b(e,r);if(s.signal&&s.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function c(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:R(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;i(new O(t,e))},o.onerror=function(){a(new TypeError("Network request failed"))},o.ontimeout=function(){a(new TypeError("Network request failed"))},o.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&n.blob&&(o.responseType="blob"),s.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),o.onreadystatechange=function(){4===o.readyState&&s.signal.removeEventListener("abort",c)}),o.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=u,e.Request=b,e.Response=O),t.Headers=u,t.Request=b,t.Response=O,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:o)})),f=c((function(e,t){!function(e,n){n(t,u)}(0,(function(e){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{c(r.next(e))}catch(t){a(t)}}function o(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){e.done?n(e.value):i(e.value).then(s,o)}c((r=r.apply(e,t||[])).next())}))}function a(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var s=function(e){function t(n,r,i,a){var s,o,c,u=this;return(u=e.call(this,n)||this).name="MeiliSearchCommunicationError",u.type="MeiliSearchCommunicationError",r instanceof Response&&(u.message=r.statusText,u.statusCode=r.status),r instanceof Error&&(u.errno=r.errno,u.code=r.code),a?(u.stack=a,u.stack=null===(s=u.stack)||void 0===s?void 0:s.replace(/(TypeError|FetchError)/,u.name),u.stack=null===(o=u.stack)||void 0===o?void 0:o.replace("Failed to fetch","request to ".concat(i," failed, reason: connect ECONNREFUSED")),u.stack=null===(c=u.stack)||void 0===c?void 0:c.replace("Not Found","Not Found: ".concat(i))):Error.captureStackTrace&&Error.captureStackTrace(u,t),u}return n(t,e),t}(Error),o=function(e){function t(t,n){var r=e.call(this,t.message)||this;return r.name="MeiliSearchApiError",r.code=t.code,r.type=t.type,r.link=t.link,r.message=t.message,r.httpStatus=n,Object.setPrototypeOf(r,o.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,o),r}return n(t,e),t}(Error);function c(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:if(e.ok)return[3,5];t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.json()];case 2:return t=n.sent(),[3,4];case 3:throw n.sent(),new s(e.statusText,e,e.url);case 4:throw new o(t,e.status);case 5:return[2,e]}}))}))}function u(e,t,n){if("MeiliSearchApiError"!==e.type)throw new s(e.message,e,n,t);throw e}var f=function(e){function t(n){var r=e.call(this,n)||this;return r.name="MeiliSearchError",r.type="MeiliSearchError",Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return n(t,e),t}(Error),h=function(e){function t(n){var r=e.call(this,n)||this;return r.name="MeiliSearchTimeOutError",r.type=r.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(r,t),r}return n(t,e),t}(Error);function l(e){return Object.entries(e).reduce((function(e,t){var n=t[0],r=t[1];return void 0!==r&&(e[n]=r),e}),{})}function d(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return setTimeout(t,e)}))];case 1:return[2,t.sent()]}}))}))}function p(e){return e.startsWith("https://")||e.startsWith("http://")?e:"http://".concat(e)}function v(e){return e.endsWith("/")||(e+="/"),e}function g(e){try{return e=v(e=p(e))}catch(t){throw new f("The provided host is not valid.")}}var y=function(){function e(e){this.headers=Object.assign({},e.headers||{}),this.headers["Content-Type"]="application/json",e.apiKey&&(this.headers.Authorization="Bearer ".concat(e.apiKey));try{var t=g(e.host);this.url=new URL(t)}catch(n){throw new f("The provided host is not valid.")}}return e.prototype.request=function(e){var t=e.method,n=e.url,s=e.params,o=e.body,f=e.config;return i(this,void 0,void 0,(function(){var e,i,h,l,d;return a(this,(function(a){switch(a.label){case 0:e=new URL(n,this.url),s&&(i=new URLSearchParams,Object.keys(s).filter((function(e){return null!==s[e]})).map((function(e){return i.set(e,s[e])})),e.search=i.toString()),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(e.toString(),r(r({},f),{method:t,body:JSON.stringify(o),headers:this.headers})).then((function(e){return c(e)}))];case 2:return[4,a.sent().text()];case 3:h=a.sent();try{return[2,JSON.parse(h)]}catch(p){return[2]}return[3,5];case 4:return l=a.sent(),d=l.stack,u(l,d,e.toString()),[3,5];case 5:return[2]}}))}))},e.prototype.get=function(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(r){switch(r.label){case 0:return[4,this.request({method:"GET",url:e,params:t,config:n})];case 1:return[2,r.sent()]}}))}))},e.prototype.post=function(e,t,n,r){return i(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.request({method:"POST",url:e,body:t,params:n,config:r})];case 1:return[2,i.sent()]}}))}))},e.prototype.put=function(e,t,n,r){return i(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.request({method:"PUT",url:e,body:t,params:n,config:r})];case 1:return[2,i.sent()]}}))}))},e.prototype.patch=function(e,t,n,r){return i(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.request({method:"PATCH",url:e,body:t,params:n,config:r})];case 1:return[2,i.sent()]}}))}))},e.prototype.delete=function(e,t,n,r){return i(this,void 0,void 0,(function(){return a(this,(function(i){switch(i.label){case 0:return[4,this.request({method:"DELETE",url:e,body:t,params:n,config:r})];case 1:return[2,i.sent()]}}))}))},e}(),m=function(){function e(e){this.httpRequest=new y(e)}return e.prototype.getClientTask=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="tasks/".concat(e),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getClientTasks=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="tasks",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getIndexTask=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n="indexes/".concat(e,"/tasks/").concat(t),[4,this.httpRequest.get(n)];case 1:return[2,r.sent()]}}))}))},e.prototype.getIndexTasks=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(e,"/tasks"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.waitForClientTask=function(e,t){var n=void 0===t?{}:t,r=n.timeOutMs,s=void 0===r?5e3:r,o=n.intervalMs,c=void 0===o?50:o;return i(this,void 0,void 0,(function(){var t,n;return a(this,(function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:return Date.now()-t<s?[4,this.getClientTask(e)]:[3,4];case 2:return n=r.sent(),["enqueued","processing"].includes(n.status)?[4,d(c)]:[2,n];case 3:return r.sent(),[3,1];case 4:throw new h("timeout of ".concat(s,"ms has exceeded on process ").concat(e," when waiting a task to be resolved."))}}))}))},e.prototype.waitForClientTasks=function(e,t){var n=void 0===t?{}:t,r=n.timeOutMs,s=void 0===r?5e3:r,o=n.intervalMs,c=void 0===o?50:o;return i(this,void 0,void 0,(function(){var t,n,r,i,o;return a(this,(function(a){switch(a.label){case 0:t=[],n=0,r=e,a.label=1;case 1:return n<r.length?(i=r[n],[4,this.waitForClientTask(i,{timeOutMs:s,intervalMs:c})]):[3,4];case 2:o=a.sent(),t.push(o),a.label=3;case 3:return n++,[3,1];case 4:return[2,{results:t}]}}))}))},e.prototype.waitForIndexTask=function(e,t,n){var r=void 0===n?{}:n,s=r.timeOutMs,o=void 0===s?5e3:s,c=r.intervalMs,u=void 0===c?50:c;return i(this,void 0,void 0,(function(){var n,r;return a(this,(function(i){switch(i.label){case 0:n=Date.now(),i.label=1;case 1:return Date.now()-n<o?[4,this.getIndexTask(e,t)]:[3,4];case 2:return r=i.sent(),["enqueued","processing"].includes(r.status)?[4,d(u)]:[2,r];case 3:return i.sent(),[3,1];case 4:throw new h("timeout of ".concat(o,"ms has exceeded on process ").concat(t," when waiting for pending update to resolve."))}}))}))},e}(),b=function(){function e(e,t,n){this.uid=t,this.primaryKey=n,this.httpRequest=new y(e),this.tasks=new m(e)}return e.prototype.search=function(e,t,n){return i(this,void 0,void 0,(function(){var i;return a(this,(function(a){switch(a.label){case 0:return i="indexes/".concat(this.uid,"/search"),[4,this.httpRequest.post(i,l(r(r({},t),{q:e})),void 0,n)];case 1:return[2,a.sent()]}}))}))},e.prototype.searchGet=function(e,t,n){var s,o,c,u,h;return i(this,void 0,void 0,(function(){var i,d,p;return a(this,(function(a){switch(a.label){case 0:return i="indexes/".concat(this.uid,"/search"),d=function(e){if("string"==typeof e)return e;if(Array.isArray(e))throw new f("The filter query parameter should be in string format when using searchGet")},p=r(r({q:e},t),{filter:d(null==t?void 0:t.filter),sort:null===(s=null==t?void 0:t.sort)||void 0===s?void 0:s.join(","),facetsDistribution:null===(o=null==t?void 0:t.facetsDistribution)||void 0===o?void 0:o.join(","),attributesToRetrieve:null===(c=null==t?void 0:t.attributesToRetrieve)||void 0===c?void 0:c.join(","),attributesToCrop:null===(u=null==t?void 0:t.attributesToCrop)||void 0===u?void 0:u.join(","),attributesToHighlight:null===(h=null==t?void 0:t.attributesToHighlight)||void 0===h?void 0:h.join(",")}),[4,this.httpRequest.get(i,l(p),n)];case 1:return[2,a.sent()]}}))}))},e.prototype.getRawInfo=function(){return i(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return e="indexes/".concat(this.uid),[4,this.httpRequest.get(e)];case 1:return t=n.sent(),this.primaryKey=t.primaryKey,[2,t]}}))}))},e.prototype.fetchInfo=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.getRawInfo()];case 1:return e.sent(),[2,this]}}))}))},e.prototype.fetchPrimaryKey=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e=this,[4,this.getRawInfo()];case 1:return e.primaryKey=t.sent().primaryKey,[2,this.primaryKey]}}))}))},e.create=function(e,t,n){return void 0===t&&(t={}),i(this,void 0,void 0,(function(){var i;return a(this,(function(a){return i="indexes",[2,new y(n).post(i,r(r({},t),{uid:e}))]}))}))},e.prototype.update=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid),[4,this.httpRequest.put(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.delete=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getTasks=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.tasks.getIndexTasks(this.uid)];case 1:return[2,e.sent()]}}))}))},e.prototype.getTask=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tasks.getIndexTask(this.uid,e)];case 1:return[2,t.sent()]}}))}))},e.prototype.waitForTasks=function(e,t){var n=void 0===t?{}:t,r=n.timeOutMs,s=void 0===r?5e3:r,o=n.intervalMs,c=void 0===o?50:o;return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tasks.waitForClientTasks(e,{timeOutMs:s,intervalMs:c})];case 1:return[2,t.sent()]}}))}))},e.prototype.waitForTask=function(e,t){var n=void 0===t?{}:t,r=n.timeOutMs,s=void 0===r?5e3:r,o=n.intervalMs,c=void 0===o?50:o;return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tasks.waitForClientTask(e,{timeOutMs:s,intervalMs:c})];case 1:return[2,t.sent()]}}))}))},e.prototype.getStats=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/stats"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getDocuments=function(e){return i(this,void 0,void 0,(function(){var t,n;return a(this,(function(i){switch(i.label){case 0:return t="indexes/".concat(this.uid,"/documents"),void 0!==e&&Array.isArray(e.attributesToRetrieve)&&(n=e.attributesToRetrieve.join(",")),[4,this.httpRequest.get(t,r(r({},e),void 0!==n?{attributesToRetrieve:n}:{}))];case 1:return[2,i.sent()]}}))}))},e.prototype.getDocument=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/documents/").concat(e),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.addDocuments=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.post(n,e,t)];case 1:return[2,r.sent()]}}))}))},e.prototype.addDocumentsInBatches=function(e,t,n){return void 0===t&&(t=1e3),i(this,void 0,void 0,(function(){var r,i,s,o;return a(this,(function(a){switch(a.label){case 0:r=[],i=0,a.label=1;case 1:return i<e.length?(o=(s=r).push,[4,this.addDocuments(e.slice(i,i+t),n)]):[3,4];case 2:o.apply(s,[a.sent()]),a.label=3;case 3:return i+=t,[3,1];case 4:return[2,r]}}))}))},e.prototype.updateDocuments=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.put(n,e,t)];case 1:return[2,r.sent()]}}))}))},e.prototype.updateDocumentsInBatches=function(e,t,n){return void 0===t&&(t=1e3),i(this,void 0,void 0,(function(){var r,i,s,o;return a(this,(function(a){switch(a.label){case 0:r=[],i=0,a.label=1;case 1:return i<e.length?(o=(s=r).push,[4,this.updateDocuments(e.slice(i,i+t),n)]):[3,4];case 2:o.apply(s,[a.sent()]),a.label=3;case 3:return i+=t,[3,1];case 4:return[2,r]}}))}))},e.prototype.deleteDocument=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/documents/").concat(e),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteDocuments=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/documents/delete-batch"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteAllDocuments=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/documents"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getSettings=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateSettings=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetSettings=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getSynonyms=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateSynonyms=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetSynonyms=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/synonyms"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getStopWords=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateStopWords=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetStopWords=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/stop-words"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getRankingRules=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateRankingRules=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetRankingRules=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/ranking-rules"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getDistinctAttribute=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateDistinctAttribute=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetDistinctAttribute=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/distinct-attribute"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getFilterableAttributes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateFilterableAttributes=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetFilterableAttributes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/filterable-attributes"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getSortableAttributes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateSortableAttributes=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetSortableAttributes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/sortable-attributes"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getSearchableAttributes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateSearchableAttributes=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetSearchableAttributes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/searchable-attributes"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getDisplayedAttributes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateDisplayedAttributes=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetDisplayedAttributes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/displayed-attributes"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getTypoTolerance=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.updateTypoTolerance=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.resetTypoTolerance=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes/".concat(this.uid,"/settings/typo-tolerance"),[4,this.httpRequest.delete(e)];case 1:return[2,t.sent()]}}))}))},e}(),w=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t}(function(){function e(e){this.config=e,this.httpRequest=new y(e),this.tasks=new m(e)}return e.prototype.index=function(e){return new b(this.config,e)},e.prototype.getIndex=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,new b(this.config,e).fetchInfo()]}))}))},e.prototype.getRawIndex=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){return[2,new b(this.config,e).getRawInfo()]}))}))},e.prototype.getIndexes=function(){return i(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:return[4,this.getRawIndexes()];case 1:return[2,t.sent().map((function(t){return new b(e.config,t.uid,t.primaryKey)}))]}}))}))},e.prototype.getRawIndexes=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="indexes",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.createIndex=function(e,t){return void 0===t&&(t={}),i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,b.create(e,t,this.config)];case 1:return[2,n.sent()]}}))}))},e.prototype.updateIndex=function(e,t){return void 0===t&&(t={}),i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,new b(this.config,e).update(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.deleteIndex=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,new b(this.config,e).delete()];case 1:return[2,t.sent()]}}))}))},e.prototype.deleteIndexIfExists=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.deleteIndex(e)];case 1:return n.sent(),[2,!0];case 2:if("index_not_found"===(t=n.sent()).code)return[2,!1];throw t;case 3:return[2]}}))}))},e.prototype.getTasks=function(){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.tasks.getClientTasks()];case 1:return[2,e.sent()]}}))}))},e.prototype.getTask=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tasks.getClientTask(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.waitForTasks=function(e,t){var n=void 0===t?{}:t,r=n.timeOutMs,s=void 0===r?5e3:r,o=n.intervalMs,c=void 0===o?50:o;return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tasks.waitForClientTasks(e,{timeOutMs:s,intervalMs:c})];case 1:return[2,t.sent()]}}))}))},e.prototype.waitForTask=function(e,t){var n=void 0===t?{}:t,r=n.timeOutMs,s=void 0===r?5e3:r,o=n.intervalMs,c=void 0===o?50:o;return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.tasks.waitForClientTask(e,{timeOutMs:s,intervalMs:c})];case 1:return[2,t.sent()]}}))}))},e.prototype.getKeys=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="keys",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getKey=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="keys/".concat(e),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.createKey=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="keys",[4,this.httpRequest.post(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.updateKey=function(e,t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n="keys/".concat(e),[4,this.httpRequest.patch(n,t)];case 1:return[2,r.sent()]}}))}))},e.prototype.deleteKey=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="keys/".concat(e),[4,this.httpRequest.delete(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.health=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="health",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.isHealthy=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e="health",[4,this.httpRequest.get(e)];case 1:return t.sent(),[2,!0];case 2:return t.sent(),[2,!1];case 3:return[2]}}))}))},e.prototype.getStats=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="stats",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getVersion=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="version",[4,this.httpRequest.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.createDump=function(){return i(this,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return e="dumps",[4,this.httpRequest.post(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getDumpStatus=function(e){return i(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t="dumps/".concat(e,"/status"),[4,this.httpRequest.get(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.generateTenantToken=function(e,t){var n=new Error;throw new Error("Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment \n ".concat(n.stack,"."))},e}());e.HttpRequests=y,e.Index=b,e.MeiliSearch=w,e.MeiliSearchApiError=o,e.MeiliSearchCommunicationError=s,e.MeiliSearchError=f,e.MeiliSearchTimeOutError=h,e.addProtocolIfNotPresent=p,e.addTrailingSlash=v,e.default=w,e.httpErrorHandler=u,e.httpResponseErrorHandler=c,e.removeUndefinedFromObject=l,e.sleep=d,Object.defineProperty(e,"__esModule",{value:!0})}))})),h=function(e){return e.filter((function(e){return void 0!==e}))};function l(e){return e.replace(/:(.*)/i,'="$1"')}function d(e){return e.reduce((function(e,t){return e+JSON.stringify(t)}),"")}function p(e,t){return t>0?Math.ceil(e/t):0}function v(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}var g=function(e){var t=e.match(/([^=]*)="?([^\\"]*)"?$/);return t?(t[0],[{filterName:t[1],value:t[2]}]):[]};function y(e){return"string"==typeof e?g(e):Array.isArray(e)?e.map((function(e){return Array.isArray(e)?e.map((function(e){return g(e)})):g(e)})).flat(2):[]}function m(e){var n=y(e);return h(n).reduce((function(e,n){var r,i=n.filterName,a=n.value,o=e[i]||[];return e=t(t({},e),((r={})[i]=s(s([],o,!0),[a]),r))}),{})}function b(e){return Object.keys(e).reduce((function(n,r){var i,a=Object.keys(e[r]);return t(t({},n),((i={})[r]=a,i))}),{})}function w(e,t){return e.keepZeroFacets?b(e.defaultFacetDistribution):m(null==t?void 0:t.filter)}function R(e,t){if(t=t||{},e&&Object.keys(e).length>0)for(var n in e){t[n]||(t[n]={});for(var r=0,i=e[n];r<i.length;r++){var a=i[r];Object.keys(t[n]).includes(a)||(t[n][a]=0)}}return t}var O={hits:[],query:"",facetsDistribution:{},limit:0,offset:0,exhaustiveNbHits:!1,nbHits:0,processingTimeMs:0};function j(e){return{searchResponse:function(t,n,r){return i(this,void 0,void 0,(function(){var i,s,o,c,u,f,h,l;return a(this,(function(a){switch(a.label){case 0:return i=t.placeholderSearch,s=t.query,i||s?(o=t.pagination,c=t.finitePagination?{}:o,u=e.formatKey([n,t.indexUid,t.query,c]),(f=e.getEntry(u))?[2,f]:(h=w(t,n),[4,r.index(t.indexUid).search(t.query,n)])):[2,O];case 1:return(l=a.sent()).facetsDistribution=R(h,l.facetsDistribution),e.setEntry(u,l),[2,l]}}))}))}}}function S(e){return 180*e/Math.PI}function x(e){return e*Math.PI/180}function P(e,t,n,r){e=x(e),t=x(t);var i=Math.cos(e)*Math.cos(t),a=Math.cos(e)*Math.sin(t),s=Math.sin(e);n=x(n),r=x(r);var o=i+Math.cos(n)*Math.cos(r),c=a+Math.cos(n)*Math.sin(r),u=s+Math.sin(n),f=Math.sqrt(o*o+c*c),h=Math.atan2(c,o),l=Math.atan2(u,f);return t<r||t>r&&t>Math.PI&&r<-Math.PI?(l+=Math.PI,h+=Math.PI):(l=S(l),h=S(h)),Math.abs(o)<Math.pow(10,-9)&&Math.abs(c)<Math.pow(10,-9)&&Math.abs(u)<Math.pow(10,-9)&&(l=0,h=0),"".concat(l,",").concat(h)}function F(e,t,n,r){var i=6371e3,a=e*Math.PI/180,s=n*Math.PI/180,o=(n-e)*Math.PI/180,c=(r-t)*Math.PI/180,u=Math.sin(o/2)*Math.sin(o/2)+Math.cos(a)*Math.cos(s)*Math.sin(c/2)*Math.sin(c/2);return i*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}function E(e){if(e){var t,n,r=e.insideBoundingBox,i=e.aroundLatLng,a=e.aroundRadius,s=e.minimumAroundRadius;if(i&&(t=i),null==a&&null==s||(n=null!=a?a:s),r&&"string"==typeof r){var o=r.split(","),c=o[0],u=o[1],f=o[2],h=o[3],l=[parseFloat(c),parseFloat(u),parseFloat(f),parseFloat(h)],d=l[0],p=l[1],v=l[2],g=l[3];n=F(d,p,v,g)/2,t=P(d,p,v,g)}if(null!=t&&null!=n){var y=t.split(","),m=y[0],b=y[1];return m=Number.parseFloat(m).toFixed(5),b=Number.parseFloat(b).toFixed(5),{filter:"_geoRadius(".concat(m,", ").concat(b,", ").concat(n,")")}}}}function _(e){var t={},n=e.aroundLatLng,r=e.aroundLatLngViaIP,i=e.aroundRadius,a=e.aroundPrecision,s=e.minimumAroundRadius,o=e.insideBoundingBox,c=e.insidePolygon;return n&&(t.aroundLatLng=n),r&&console.warn("instant-meilisearch: `aroundLatLngViaIP` is not supported."),i&&(t.aroundRadius=i),a&&console.warn("instant-meilisearch: `aroundPrecision` is not supported.\n    See this discussion to track its implementation https://github.com/meilisearch/product/discussions/264"),s&&(t.minimumAroundRadius=s),o&&(t.insideBoundingBox=o),c&&console.warn("instant-meilisearch: `insidePolygon` is not implented in instant-meilisearch."),t}function T(e){return"string"==typeof e?l(e):Array.isArray(e)?e.map((function(e){return Array.isArray(e)?e.map((function(e){return l(e)})).filter((function(e){return e})):l(e)})).filter((function(e){return e})):[]}function k(e){return""===e?[]:"string"==typeof e?[e]:e}function A(e,t,n){var r=n.trim(),i=k(e),a=k(t);return s(s(s([],i,!0),a,!0),[r]).filter((function(e){return Array.isArray(e)?e.length:e}))}function D(e,t,n){return A(T(n||[]),T(t||[]),e||"")}function I(e){var t={},n=null==e?void 0:e.facets;(null==n?void 0:n.length)&&(t.facetsDistribution=n);var r=null==e?void 0:e.attributesToSnippet;r&&(t.attributesToCrop=r);var i=null==e?void 0:e.snippetEllipsisText;null!=i&&(t.cropMarker=i);var a=null==e?void 0:e.attributesToRetrieve;a&&(t.attributesToRetrieve=a);var s=D(null==e?void 0:e.filters,null==e?void 0:e.numericFilters,null==e?void 0:e.facetFilters);s.length&&(t.filter=s),a&&(t.attributesToCrop=a),t.attributesToHighlight=(null==e?void 0:e.attributesToHighlight)||["*"];var o=null==e?void 0:e.highlightPreTag;t.highlightPreTag=o||"__ais-highlight__";var c=null==e?void 0:e.highlightPostTag;t.highlightPostTag=c||"__/ais-highlight__";var u=e.placeholderSearch,f=e.query,h=e.pagination;if(!u&&""===f||0===h.paginationTotalHits)t.limit=0;else if(e.finitePagination)t.limit=h.paginationTotalHits;else{var l=(h.page+1)*h.hitsPerPage+1;l>h.paginationTotalHits?t.limit=h.paginationTotalHits:t.limit=l}var d=e.sort;(null==d?void 0:d.length)&&(t.sort=[d]);var p=E(_(e));return(null==p?void 0:p.filter)&&(t.filter?t.filter.unshift(p.filter):t.filter=[p.filter]),t}function H(e,t,n){if(n<0)throw new TypeError('Value too small for "hitsPerPage" parameter, expected integer between 0 and 9223372036854775807');var r=t*n;return e.slice(r,r+n)}function N(e){return"string"==typeof e?e:void 0===e?JSON.stringify(null):JSON.stringify(e)}function C(e){return Array.isArray(e)?e.map((function(e){return C(e)})):v(e)?Object.keys(e).reduce((function(t,n){return t[n]=C(e[n]),t}),{}):{value:N(e)}}function M(e){if(!e)return{};var t=C(e);return{_highlightResult:t,_snippetResult:t}}function L(e){for(var t=0;t<e.length;t++)e[t]._geo&&(e[t]._geoloc={lat:e[t]._geo.lat,lng:e[t]._geo.lng},e[t].objectID="".concat(t+1e6*Math.random()),delete e[t]._geo);return e}function q(e,t,n){var i=t.primaryKey,a=n.hitsPerPage,s=H(e,n.page,a).map((function(e){if(Object.keys(e).length>0){var t=e._formatted;e._matchesInfo;var n=r(e,["_formatted","_matchesInfo"]),a=Object.assign(n,M(t));return i&&(a.objectID=e[i]),a}return e}));return s=L(s)}function U(e,n){var r={},i=e.facetsDistribution,a=n.pagination,s=null==e?void 0:e.exhaustiveFacetsCount;s&&(r.exhaustiveFacetsCount=s);var o=p(e.hits.length,a.hitsPerPage),c=q(e.hits,n,a),u=e.exhaustiveNbHits,f=e.nbHits,h=e.processingTimeMs,l=e.query,d=a.hitsPerPage,v=a.page;return{results:[t({index:n.indexUid,hitsPerPage:d,page:v,facets:i,nbPages:o,exhaustiveNbHits:u,nbHits:f,processingTimeMS:h,query:l,hits:c,params:""},r)]}}function Q(e){var t=e.paginationTotalHits,n=e.hitsPerPage;return{paginationTotalHits:null!=t?t:200,hitsPerPage:void 0===n?20:n,page:e.page||0}}function B(e,n,r){var i=e.indexName.split(":"),a=i[0],s=i.slice(1),o=e.params,c=Q({paginationTotalHits:n.paginationTotalHits,hitsPerPage:null==o?void 0:o.hitsPerPage,page:null==o?void 0:o.page});return t(t(t({},n),o),{sort:s.join(":")||"",indexUid:a,pagination:c,defaultFacetDistribution:r,placeholderSearch:!1!==n.placeholderSearch,keepZeroFacets:!!n.keepZeroFacets,finitePagination:!!n.finitePagination})}function W(e){void 0===e&&(e={});var t=e;return{getEntry:function(e){if(t[e])try{return JSON.parse(t[e])}catch(n){return t[e]}},formatKey:function(e){return d(e)},setEntry:function(e,n){t[e]=JSON.stringify(n)}}}function V(e,t){return""===t.query&&0===Object.keys(e).length?t.facetsDistribution:e}function $(e,t,n){void 0===t&&(t=""),void 0===n&&(n={});var r=j(W()),s={},o=new f.MeiliSearch({host:e,apiKey:t});return{search:function(e){return i(this,void 0,void 0,(function(){var t,i,c,u,f;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=e[0],i=B(t,n,s),c=I(i),[4,r.searchResponse(i,c,o)];case 1:return u=a.sent(),s=V(s,u),[2,U(u,i)];case 2:throw f=a.sent(),console.error(f),new Error(f);case 3:return[2]}}))}))},searchForFacetValues:function(e){return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e,t){t(new Error("SearchForFacetValues is not compatible with Meilisearch")),e([])}))];case 1:return[2,e.sent()]}}))}))}}}e.instantMeiliSearch=$,Object.defineProperty(e,"__esModule",{value:!0})}(t)},3771:function(e,t,n){"use strict";var r=n(1727),i=n(2481),a=n(3362);function s(e,t,n){return new r(e,t,n)}s.version=n(7958),s.AlgoliaSearchHelper=r,s.SearchParameters=i,s.SearchResults=a,e.exports=s},3824:function(e,t,n){"use strict";var r=n(8872);function i(e,t){this.main=e,this.fn=t,this.lastResults=null}n(1753)(i,r),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},e.exports=i},4298:function(e,t,n){"use strict";var r=n(6775),i=n(4680),a=n(961),s={addRefinement:function(e,t,n){if(s.isRefined(e,t,n))return e;var i=""+n,a=e[t]?e[t].concat(i):[i],o={};return o[t]=a,r({},o,e)},removeRefinement:function(e,t,n){if(void 0===n)return s.clearRefinement(e,(function(e,n){return t===n}));var r=""+n;return s.clearRefinement(e,(function(e,n){return t===n&&r===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return s.isRefined(e,t,n)?s.removeRefinement(e,t,n):s.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return a(e)?{}:e;if("string"==typeof t)return i(e,[t]);if("function"==typeof t){var r=!1,s=Object.keys(e).reduce((function(i,a){var s=e[a]||[],o=s.filter((function(e){return!t(e,a,n)}));return o.length!==s.length&&(r=!0),i[a]=o,i}),{});return r?s:e}},isRefined:function(e,t,n){var r=!!e[t]&&e[t].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}};e.exports=s},2481:function(e,t,n){"use strict";var r=n(6292),i=n(6775),a=n(9044),s=n(5278),o=n(7063),c=n(4680),u=n(961),f=n(8920),h=n(4298);function l(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return l(t[n],e)})):e===t}function d(e){var t=e?d._parseNumbers(e):{};void 0===t.userToken||f(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach((function(e){var r=-1!==d.PARAMETERS.indexOf(e),i=void 0!==t[e];!r&&i&&(n[e]=t[e])}))}d.PARAMETERS=Object.keys(new d),d._parseNumbers=function(e){if(e instanceof d)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach((function(e){var i=r[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"==typeof e?parseFloat(e):e})):"string"==typeof e?parseFloat(e):e}));n[t][e]=i}))})),t.numericRefinements=n}return r({},e,t)},d.make=function(e){var t=new d(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},d.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&u(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):u(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},d.prototype={constructor:d,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:h.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:h.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:h.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:h.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var i=o(n);if(this.isNumericRefined(e,t,i))return this;var a=r({},this.numericRefinements);return a[e]=r({},a[e]),a[e][t]?(a[e][t]=a[e][t].slice(),a[e][t].push(i)):a[e][t]=[i],this.setQueryParameters({numericRefinements:a})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,i){return i===e&&r.op===t&&l(r.val,o(n))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===e&&n.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,n){return n===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return u(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return c(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var a=n[i],s={};return a=a||{},Object.keys(a).forEach((function(n){var r=a[n]||[],o=[];r.forEach((function(t){e({val:t,op:n},i,"numeric")||o.push(t)})),o.length!==r.length&&(t=!0),s[n]=o})),r[i]=s,r}),{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:h.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:h.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:h.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:h.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:h.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:h.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:h.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:h.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:h.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:i({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&h.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,a,c=o(n),u=void 0!==(i=this.numericRefinements[e][t],a=c,s(i,(function(e){return l(e,a)})));return r&&u},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=a(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return a(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0})))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=d.validate(this,e);if(t)throw t;var n=this,r=d._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=n[t],e}),{}),a=Object.keys(r).reduce((function(e,t){var n=void 0!==e[t],i=void 0!==r[t];return n&&!i?c(e,[t]):(i&&(e[t]=r[t]),e)}),i);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return s(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}},e.exports=d},9834:function(e,t,n){"use strict";e.exports=function(e){return function(t,n){var s=e.hierarchicalFacets[n],u=e.hierarchicalFacetsRefinements[s.name]&&e.hierarchicalFacetsRefinements[s.name][0]||"",f=e._getHierarchicalFacetSeparator(s),h=e._getHierarchicalRootPath(s),l=e._getHierarchicalShowParentLevel(s),d=a(e._getHierarchicalFacetSortBy(s)),p=t.every((function(e){return e.exhaustive})),v=function(e,t,n,a,s){return function(u,f,h){var l=u;if(h>0){var d=0;for(l=u;d<h;){var p=l&&Array.isArray(l.data)?l.data:[];l=i(p,(function(e){return e.isRefined})),d++}}if(l){var v=Object.keys(f.data).map((function(e){return[e,f.data[e]]})).filter((function(e){return function(e,t,n,r,i,a){if(i&&(0!==e.indexOf(i)||i===e))return!1;return!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(a||0===e.indexOf(n))}(e[0],l.path||n,s,t,n,a)}));l.data=r(v.map((function(e){var n=e[0];return function(e,t,n,r,i){var a=t.split(n);return{name:a[a.length-1].trim(),path:t,escapedValue:o(t),count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],n,t,c(s),f.exhaustive)})),e[0],e[1])}return u}}(d,f,h,l,u),g=t;return h&&(g=t.slice(h.split(f).length)),g.reduce(v,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:p,data:null})}};var r=n(5193),i=n(5278),a=n(2628),s=n(1632),o=s.escapeFacetValue,c=s.unescapeFacetValue},3362:function(e,t,n){"use strict";var r=n(6292),i=n(6775),a=n(5193),s=n(3832),o=n(5278),c=n(5968),u=n(2628),f=n(1632),h=f.escapeFacetValue,l=f.unescapeFacetValue,d=n(9834);function p(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}function v(e,t,n){t&&t[n]&&(e.stats=t[n])}function g(e,t,n){var a=t[0];this._rawResults=t;var u=this;Object.keys(a).forEach((function(e){u[e]=a[e]})),Object.keys(n||{}).forEach((function(e){u[e]=n[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var f=e.getRefinedDisjunctiveFacets(),h=p(e.facets),g=p(e.disjunctiveFacets),y=1,m=a.facets||{};Object.keys(m).forEach((function(t){var n,r,i=m[t],s=(n=e.hierarchicalFacets,r=t,o(n,(function(e){return(e.attributes||[]).indexOf(r)>-1})));if(s){var f=s.attributes.indexOf(t),l=c(e.hierarchicalFacets,(function(e){return e.name===s.name}));u.hierarchicalFacets[l][f]={attribute:t,data:i,exhaustive:a.exhaustiveFacetsCount}}else{var d,p=-1!==e.disjunctiveFacets.indexOf(t),y=-1!==e.facets.indexOf(t);p&&(d=g[t],u.disjunctiveFacets[d]={name:t,data:i,exhaustive:a.exhaustiveFacetsCount},v(u.disjunctiveFacets[d],a.facets_stats,t)),y&&(d=h[t],u.facets[d]={name:t,data:i,exhaustive:a.exhaustiveFacetsCount},v(u.facets[d],a.facets_stats,t))}})),this.hierarchicalFacets=s(this.hierarchicalFacets),f.forEach((function(n){var s=t[y],o=s&&s.facets?s.facets:{},f=e.getHierarchicalFacetByName(n);Object.keys(o).forEach((function(t){var n,h=o[t];if(f){n=c(e.hierarchicalFacets,(function(e){return e.name===f.name}));var d=c(u.hierarchicalFacets[n],(function(e){return e.attribute===t}));if(-1===d)return;u.hierarchicalFacets[n][d].data=r({},u.hierarchicalFacets[n][d].data,h)}else{n=g[t];var p=a.facets&&a.facets[t]||{};u.disjunctiveFacets[n]={name:t,data:i({},h,p),exhaustive:s.exhaustiveFacetsCount},v(u.disjunctiveFacets[n],s.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(r){!u.disjunctiveFacets[n].data[r]&&e.disjunctiveFacetsRefinements[t].indexOf(l(r))>-1&&(u.disjunctiveFacets[n].data[r]=0)}))}})),y++})),e.getRefinedHierarchicalFacets().forEach((function(n){var r=e.getHierarchicalFacetByName(n),a=e._getHierarchicalFacetSeparator(r),s=e.getHierarchicalRefinement(n);if(!(0===s.length||s[0].split(a).length<2)){var o=t[y],f=o&&o.facets?o.facets:{};Object.keys(f).forEach((function(t){var n=f[t],o=c(e.hierarchicalFacets,(function(e){return e.name===r.name})),h=c(u.hierarchicalFacets[o],(function(e){return e.attribute===t}));if(-1!==h){var l={};if(s.length>0){var d=s[0].split(a)[0];l[d]=u.hierarchicalFacets[o][h].data[d]}u.hierarchicalFacets[o][h].data=i(l,n,u.hierarchicalFacets[o][h].data)}})),y++}})),Object.keys(e.facetsExcludes).forEach((function(t){var n=e.facetsExcludes[t],r=h[t];u.facets[r]={name:t,data:a.facets[t],exhaustive:a.exhaustiveFacetsCount},n.forEach((function(e){u.facets[r]=u.facets[r]||{name:t},u.facets[r].data=u.facets[r].data||{},u.facets[r].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(d(e)),this.facets=s(this.facets),this.disjunctiveFacets=s(this.disjunctiveFacets),this._state=e}function y(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var a=t.data.map((function(t){return y(e,t,n,r+1)})),s=e(a,n[r]);return i({data:s},t)}function m(e,t){var n=o(e,(function(e){return e.name===t}));return n&&n.stats}function b(e,t,n,r,i){var a=o(i,(function(e){return e.name===n})),s=a&&a.data&&a.data[r]?a.data[r]:0,c=a&&a.exhaustive||!1;return{type:t,attributeName:n,name:r,count:s,exhaustive:c}}g.prototype.getFacetByName=function(e){function t(t){return t.name===e}return o(this.facets,t)||o(this.disjunctiveFacets,t)||o(this.hierarchicalFacets,t)},g.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],g.prototype.getFacetValues=function(e,t){var n=function(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=o(e.facets,n);return r?Object.keys(r.data).map((function(n){var i=h(n);return{name:n,escapedValue:i,count:r.data[n],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,n)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=o(e.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){var r=h(n);return{name:n,escapedValue:r,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,r)}})):[]}if(e._state.isHierarchicalFacet(t))return o(e.hierarchicalFacets,n)}(this,e);if(n){var r,s=i({},t,{sortBy:g.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),c=this;if(Array.isArray(n))r=[e];else r=c._state.getHierarchicalFacetByName(n.name).attributes;return y((function(e,t){if(s.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(c,t);if(Boolean(n))return function(e,t){var n=[],r=[],i=(t.order||[]).reduce((function(e,t,n){return e[t]=n,e}),{});e.forEach((function(e){var t=e.path||e.name;void 0!==i[t]?n[i[t]]=e:r.push(e)})),n=n.filter((function(e){return e}));var s,o=t.sortRemainingBy;return"hidden"===o?n:(s="alpha"===o?[["path","name"],["asc","asc"]]:[["count"],["desc"]],n.concat(a(r,s[0],s[1])))}(e,n)}if(Array.isArray(s.sortBy)){var r=u(s.sortBy,g.DEFAULT_SORT);return a(e,r[0],r[1])}if("function"==typeof s.sortBy)return function(e,t){return t.sort(e)}(s.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),n,r)}},g.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?m(this.facets,e):this._state.isDisjunctiveFacet(e)?m(this.disjunctiveFacets,e):void 0},g.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach((function(r){e.facetsRefinements[r].forEach((function(i){n.push(b(e,"facet",r,i,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(r){e.facetsExcludes[r].forEach((function(i){n.push(b(e,"exclude",r,i,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(r){e.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(b(e,"disjunctive",r,i,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(r){e.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),s=n.split(a),c=o(r,(function(e){return e.name===t})),u=s.reduce((function(e,t){var n=e&&o(e.data,(function(e){return e.name===t}));return void 0!==n?n:e}),c),f=u&&u.count||0,h=u&&u.exhaustive||!1,l=u&&u.path||"";return{type:"hierarchical",attributeName:t,name:l,count:f,exhaustive:h}}(e,r,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t];Object.keys(r).forEach((function(e){r[e].forEach((function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})}))}))})),e.tagRefinements.forEach((function(e){n.push({type:"tag",attributeName:"_tags",name:e})})),n},e.exports=g},1727:function(e,t,n){"use strict";var r=n(2481),i=n(3362),a=n(3824),s=n(1854),o=n(8872),c=n(1753),u=n(961),f=n(4680),h=n(6292),l=n(7958),d=n(1632).escapeFacetValue;function p(e,t,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+l+")"),this.setClient(e);var i=n||{};i.index=t,this.state=r.make(i),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function v(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function g(){return this.state.page}c(p,o),p.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},p.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},p.prototype.getQuery=function(){var e=this.state;return s._getHitsSearchParams(e)},p.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=s._getQueries(n.index,n),a=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then((function(e){return a._currentNbQueries--,0===a._currentNbQueries&&a.emit("searchQueueEmpty"),{content:new i(n,e.results),state:n,_originalResponse:e}}),(function(e){throw a._currentNbQueries--,0===a._currentNbQueries&&a.emit("searchQueueEmpty"),e}));this.client.search(r).then((function(e){a._currentNbQueries--,0===a._currentNbQueries&&a.emit("searchQueueEmpty"),t(null,new i(n,e.results),n)})).catch((function(e){a._currentNbQueries--,0===a._currentNbQueries&&a.emit("searchQueueEmpty"),t(e,null,n)}))},p.prototype.findAnswers=function(e){var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=h({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:f(s._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(a);var o=this.client.initIndex(r.index);if("function"!=typeof o.findAnswers)throw new Error(a);return o.findAnswers(r.query,e.queryLanguages,i)},p.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),c=s.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var u=this;return this.emit("searchForFacetValues",{state:a,facet:e,query:t}),(i?this.client.searchForFacetValues([{indexName:a.index,params:c}]):this.client.initIndex(a.index).searchForFacetValues(c)).then((function(t){return u._currentNbQueries--,0===u._currentNbQueries&&u.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.escapedValue=d(t.value),t.isRefined=o?a.isDisjunctiveFacetRefined(e,t.escapedValue):a.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw u._currentNbQueries--,0===u._currentNbQueries&&u.emit("searchQueueEmpty"),e}))},p.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},p.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},p.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},p.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},p.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},p.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},p.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},p.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},p.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},p.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},p.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},p.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},p.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},p.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},p.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},p.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},p.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},p.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},p.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},p.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},p.prototype.setCurrentPage=v,p.prototype.setPage=v,p.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},p.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},p.prototype.setState=function(e){return this._change({state:r.make(e),isPageReset:!1}),this},p.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new r(e),this},p.prototype.hasRefinements=function(e){return!!u(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},p.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},p.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},p.prototype.hasTag=function(e){return this.state.isTagRefined(e)},p.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},p.prototype.getIndex=function(){return this.state.index},p.prototype.getCurrentPage=g,p.prototype.getPage=g,p.prototype.getTags=function(){return this.state.tagRefinements},p.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}))}var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach((function(e){var r=n[e];t.push({value:r,operator:e,type:"numeric"})})),t},p.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},p.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},p.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=s._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var r=e.getModifiedState(t),i=s._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i})),a=Array.prototype.concat.apply(r,i),o=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,n,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(c){this.emit("error",{error:c})}},p.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach((function(e){var t=e.state,n=e.queriesCount,a=e.helper,s=r.splice(0,n),o=a.lastResults=new i(t,s);a.emit("result",{results:o,state:t})}))}},p.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},p.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},p.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},p.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},p.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},p.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+l+")"),this.client=e),this},p.prototype.getClient=function(){return this.client},p.prototype.derive=function(e){var t=new a(this,e);return this.derivedHelpers.push(t),t},p.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},p.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},e.exports=p},3832:function(e){"use strict";e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},6775:function(e){"use strict";e.exports=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])})),e}),{})}},1632:function(e){"use strict";e.exports={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}}},5278:function(e){"use strict";e.exports=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},5968:function(e){"use strict";e.exports=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}},2628:function(e,t,n){"use strict";var r=n(5278);e.exports=function(e,t){var n=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var i=t.split(":"),a=r(n,(function(e){return e[0]===i[0]}));return i.length>1||!a?(e[0].push(i[0]),e[1].push(i[1]),e):(e[0].push(a[0]),e[1].push(a[1]),e)}),[[],[]])}},1753:function(e){"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},9044:function(e){"use strict";e.exports=function(e,t){return e.filter((function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r}))}},6292:function(e){"use strict";function t(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function n(e,r){if(e===r)return e;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&"__proto__"!==i){var a=r[i],s=e[i];void 0!==s&&void 0===a||(t(s)&&t(a)?e[i]=n(s,a):e[i]="object"==typeof(o=a)&&null!==o?n(Array.isArray(o)?[]:{},o):o)}var o;return e}e.exports=function(e){t(e)||(e={});for(var r=1,i=arguments.length;r<i;r++){var a=arguments[r];t(a)&&n(e,a)}return e}},961:function(e){"use strict";e.exports=function(e){return e&&Object.keys(e).length>0}},4680:function(e){"use strict";e.exports=function(e,t){if(null===e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},5193:function(e){"use strict";function t(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,a=null===t;if(!a&&e>t||r&&i||!n)return 1;if(!r&&e<t||a&&n||!i)return-1}return 0}e.exports=function(e,n,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var i=e.map((function(e,t){return{criteria:n.map((function(t){return e[t]})),index:t,value:e}}));return i.sort((function(e,n){for(var i=-1;++i<e.criteria.length;){var a=t(e.criteria[i],n.criteria[i]);if(a)return i>=r.length?a:"desc"===r[i]?-a:a}return e.index-n.index})),i.map((function(e){return e.value}))}},7063:function(e){"use strict";e.exports=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},1854:function(e,t,n){"use strict";var r=n(6292),i={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:i._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:e,params:i._getDisjunctiveFacetSearchParams(t,r)})})),t.getRefinedHierarchicalFacets().forEach((function(r){var a=t.getHierarchicalFacetByName(r),s=t.getHierarchicalRefinement(r),o=t._getHierarchicalFacetSeparator(a);s.length>0&&s[0].split(o).length>1&&n.push({indexName:e,params:i._getDisjunctiveFacetSearchParams(t,r,!0)})})),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(i._getHitsHierarchicalFacetsAttributes(e)),n=i._getFacetFilters(e),a=i._getNumericFilters(e),s=i._getTagFilters(e),o={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:s};return n.length>0&&(o.facetFilters=n),a.length>0&&(o.numericFilters=a),r({},e.getQueryParams(),o)},_getDisjunctiveFacetSearchParams:function(e,t,n){var a=i._getFacetFilters(e,t,n),s=i._getNumericFilters(e,t),o={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:i._getTagFilters(e),analytics:!1,clickAnalytics:!1},c=e.getHierarchicalFacetByName(t);return o.facets=c?i._getDisjunctiveHierarchicalFacetAttribute(e,c,n):t,s.length>0&&(o.numericFilters=s),a.length>0&&(o.facetFilters=a),r({},e.getQueryParams(),o)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach((function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach((function(e){var a=i[e]||[];t!==r&&a.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return r+e+t}));n.push(i)}else n.push(r+e+t)}))}))})),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach((function(e){(i[e]||[]).forEach((function(t){r.push(e+":"+t)}))}));var a=e.facetsExcludes||{};Object.keys(a).forEach((function(e){(a[e]||[]).forEach((function(t){r.push(e+":-"+t)}))}));var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).forEach((function(e){var n=s[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.forEach((function(t){i.push(e+":"+t)})),r.push(i)}}));var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).forEach((function(i){var a=(o[i]||[])[0];if(void 0!==a){var s,c,u=e.getHierarchicalFacetByName(i),f=e._getHierarchicalFacetSeparator(u),h=e._getHierarchicalRootPath(u);if(t===i){if(-1===a.indexOf(f)||!h&&!0===n||h&&h.split(f).length===a.split(f).length)return;h?(c=h.split(f).length-1,a=h):(c=a.split(f).length-2,a=a.slice(0,a.lastIndexOf(f))),s=u.attributes[c]}else c=a.split(f).length-1,s=u.attributes[c];s&&r.push([s+":"+a])}})),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),a=r.split(i).length,s=n.attributes.slice(0,a+1);return t.concat(s)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var s=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,s+1)},getSearchForFacetQuery:function(e,t,n,a){var s=a.isDisjunctiveFacet(e)?a.clearRefinements(e):a,o={facetQuery:t,facetName:e};return"number"==typeof n&&(o.maxFacetHits=n),r({},i._getHitsSearchParams(s),o)}};e.exports=i},8920:function(e){"use strict";e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},7958:function(e){"use strict";e.exports="3.8.2"},1409:function(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},832:function(e,t,n){"use strict";var r=n(8784),i=n(5262),a=n(1409);e.exports={formats:a,parse:i,stringify:r}},5262:function(e,t,n){"use strict";var r=n(1695),i=Object.prototype.hasOwnProperty,a=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,n,r){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,o=n.depth>0&&/(\[[^[\]]*])/.exec(a),u=o?a.slice(0,o.index):a,f=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;f.push(u)}for(var h=0;n.depth>0&&null!==(o=s.exec(a))&&h<n.depth;){if(h+=1,!n.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(o[1])}return o&&f.push("["+a.slice(o.index)+"]"),function(e,t,n,r){for(var i=r?t:c(t,n),a=e.length-1;a>=0;--a){var s,o=e[a];if("[]"===o&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var u="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,f=parseInt(u,10);n.parseArrays||""!==u?!isNaN(f)&&o!==u&&String(f)===u&&f>=0&&n.parseArrays&&f<=n.arrayLimit?(s=[])[f]=i:"__proto__"!==u&&(s[u]=i):s={0:i}}i=s}return i}(f,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var f="string"==typeof e?function(e,t){var n,u={},f=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=t.parameterLimit===1/0?void 0:t.parameterLimit,l=f.split(t.delimiter,h),d=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<l.length;++n)0===l[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[n]?p="utf-8":"utf8=%26%2310003%3B"===l[n]&&(p="iso-8859-1"),d=n,n=l.length);for(n=0;n<l.length;++n)if(n!==d){var v,g,y=l[n],m=y.indexOf("]="),b=-1===m?y.indexOf("="):m+1;-1===b?(v=t.decoder(y,s.decoder,p,"key"),g=t.strictNullHandling?null:""):(v=t.decoder(y.slice(0,b),s.decoder,p,"key"),g=r.maybeMap(c(y.slice(b+1),t),(function(e){return t.decoder(e,s.decoder,p,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===p&&(g=o(g)),y.indexOf("[]=")>-1&&(g=a(g)?[g]:g),i.call(u,v)?u[v]=r.combine(u[v],g):u[v]=g}return u}(e,n):e,h=n.plainObjects?Object.create(null):{},l=Object.keys(f),d=0;d<l.length;++d){var p=l[d],v=u(p,f[p],n,"string"==typeof e);h=r.merge(h,v,n)}return r.compact(h)}},8784:function(e,t,n){"use strict";var r=n(1695),i=n(1409),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Array.isArray,c=String.prototype.split,u=Array.prototype.push,f=function(e,t){u.apply(e,o(t)?t:[t])},h=Date.prototype.toISOString,l=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:l,formatter:i.formatters[l],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,n,i,a,s,u,h,l,p,v,g,y,m,b){var w,R=t;if("function"==typeof h?R=h(n,R):R instanceof Date?R=v(R):"comma"===i&&o(R)&&(R=r.maybeMap(R,(function(e){return e instanceof Date?v(e):e}))),null===R){if(a)return u&&!m?u(n,d.encoder,b,"key",g):n;R=""}if("string"==typeof(w=R)||"number"==typeof w||"boolean"==typeof w||"symbol"==typeof w||"bigint"==typeof w||r.isBuffer(R)){if(u){var O=m?n:u(n,d.encoder,b,"key",g);if("comma"===i&&m){for(var j=c.call(String(R),","),S="",x=0;x<j.length;++x)S+=(0===x?"":",")+y(u(j[x],d.encoder,b,"value",g));return[y(O)+"="+S]}return[y(O)+"="+y(u(R,d.encoder,b,"value",g))]}return[y(n)+"="+y(String(R))]}var P,F=[];if(void 0===R)return F;if("comma"===i&&o(R))P=[{value:R.length>0?R.join(",")||null:void 0}];else if(o(h))P=h;else{var E=Object.keys(R);P=l?E.sort(l):E}for(var _=0;_<P.length;++_){var T=P[_],k="object"==typeof T&&void 0!==T.value?T.value:R[T];if(!s||null!==k){var A=o(R)?"function"==typeof i?i(n,T):n:n+(p?"."+T:"["+T+"]");f(F,e(k,A,i,a,s,u,h,l,p,v,g,y,m,b))}}return F};e.exports=function(e,t){var n,r=e,c=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],s=d.filter;return("function"==typeof e.filter||o(e.filter))&&(s=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:void 0===e.delimiter?d.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:d.encode,encoder:"function"==typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):o(c.filter)&&(n=c.filter);var u,h=[];if("object"!=typeof r||null===r)return"";u=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var l=s[u];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var v=0;v<n.length;++v){var g=n[v];c.skipNulls&&null===r[g]||f(h,p(r[g],g,l,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset))}var y=h.join(c.delimiter),m=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),y.length>0?m+y:""}},1695:function(e,t,n){"use strict";var r=n(1409),i=Object.prototype.hasOwnProperty,a=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],s=i.obj[i.prop],o=Object.keys(s),c=0;c<o.length;++c){var u=o[c],f=s[u];"object"==typeof f&&null!==f&&-1===n.indexOf(f)&&(t.push({obj:s,prop:u}),n.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,a){if(0===e.length)return e;var o=e;if("symbol"==typeof e?o=Symbol.prototype.toString.call(e):"string"!=typeof e&&(o=String(e)),"iso-8859-1"===n)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<o.length;++u){var f=o.charCodeAt(u);45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===r.RFC1738&&(40===f||41===f)?c+=o.charAt(u):f<128?c+=s[f]:f<2048?c+=s[192|f>>6]+s[128|63&f]:f<55296||f>=57344?c+=s[224|f>>12]+s[128|f>>6&63]+s[128|63&f]:(u+=1,f=65536+((1023&f)<<10|1023&o.charCodeAt(u)),c+=s[240|f>>18]+s[128|f>>12&63]+s[128|f>>6&63]+s[128|63&f])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(a(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return a(t)&&!a(n)&&(s=o(t,r)),a(t)&&a(n)?(n.forEach((function(n,a){if(i.call(t,a)){var s=t[a];s&&"object"==typeof s&&n&&"object"==typeof n?t[a]=e(s,n,r):t.push(n)}else t[a]=n})),t):Object.keys(n).reduce((function(t,a){var s=n[a];return i.call(t,a)?t[a]=e(t[a],s,r):t[a]=s,t}),s)}}},1223:function(e,t,n){var r=n(5112),i=n(30),a=n(3070).f,s=r("unscopables"),o=Array.prototype;null==o[s]&&a(o,s,{configurable:!0,value:i(null)}),e.exports=function(e){o[s][e]=!0}},7475:function(e,t,n){var r=n(7854),i=n(3157),a=n(4411),s=n(111),o=n(5112)("species"),c=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(a(t)&&(t===c||i(t.prototype))||s(t)&&null===(t=t[o]))&&(t=void 0)),void 0===t?c:t}},5417:function(e,t,n){var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},6790:function(e,t,n){"use strict";var r=n(7854),i=n(3157),a=n(6244),s=n(9974),o=r.TypeError,c=function(e,t,n,r,u,f,h,l){for(var d,p,v=u,g=0,y=!!h&&s(h,l);g<r;){if(g in n){if(d=y?y(n[g],g,t):n[g],f>0&&i(d))p=a(d),v=c(e,t,d,p,v,f-1)-1;else{if(v>=9007199254740991)throw o("Exceed the acceptable array length");e[v]=d}v++}g++}return v};e.exports=c},9974:function(e,t,n){var r=n(1702),i=n(9662),a=n(4374),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4411:function(e,t,n){var r=n(1702),i=n(7293),a=n(614),s=n(648),o=n(5005),c=n(2788),u=function(){},f=[],h=o("Reflect","construct"),l=/^\s*(?:class|function)\b/,d=r(l.exec),p=!l.exec(u),v=function(e){if(!a(e))return!1;try{return h(u,f,e),!0}catch(t){return!1}},g=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(l,c(e))}catch(t){return!0}};g.sham=!0,e.exports=!h||i((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},30:function(e,t,n){var r,i=n(9670),a=n(6048),s=n(748),o=n(3501),c=n(490),u=n(317),f=n(6200),h=f("IE_PROTO"),l=function(){},d=function(e){return"<script>"+e+"</"+"script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{r=new ActiveXObject("htmlfile")}catch(i){}var e,t;v="undefined"!=typeof document?document.domain&&r?p(r):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):p(r);for(var n=s.length;n--;)delete v.prototype[s[n]];return v()};o[h]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(l.prototype=i(e),n=new l,l.prototype=null,n[h]=e):n=v(),void 0===t?n:a.f(n,t)}},6048:function(e,t,n){var r=n(9781),i=n(3353),a=n(3070),s=n(9670),o=n(5656),c=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){s(e);for(var n,r=o(t),i=c(t),u=i.length,f=0;u>f;)a.f(e,n=i[f++],r[n]);return e}},1956:function(e,t,n){var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},4944:function(e,t,n){"use strict";var r=n(2109),i=n(6790),a=n(7908),s=n(6244),o=n(9303),c=n(5417);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=s(t),r=c(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:o(e)),r}})},3792:function(e,t,n){n(1223)("flat")},5837:function(e,t,n){n(2109)({global:!0},{globalThis:n(7854)})},5743:function(e,t,n){n(5837)},7762:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Pn}});var r=n(7294),i=n(3417),a=n(6131);function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=(0,r.createContext)(null);var c=(0,r.createContext)(null);var u=n(3771),f=n.n(u),h=n(8872),l=n.n(h),d=function(e){var t=e.name,n=e.connector;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",void 0!==n&&n?"#connector":""].join("")},p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return d(e)})).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}};var v=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1};var g=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var R=function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var n=w(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(n)},O=function(e,t){return t.facets.reduce((function(e,t){return e.addFacet(t)}),e)},j=function(e,t){return t.disjunctiveFacets.reduce((function(e,t){return e.addDisjunctiveFacet(t)}),e)},S=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce((function(e,t){var n=v(e,(function(e){return e.name===t.name}));if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r}),e.hierarchicalFacets)})},x=function(e,t){return t.tagRefinements.reduce((function(e,t){return e.addTagRefinement(t)}),e)},P=function(e,t){return e.setQueryParameters({facetsRefinements:m(m({},e.facetsRefinements),t.facetsRefinements)})},F=function(e,t){return e.setQueryParameters({facetsExcludes:m(m({},e.facetsExcludes),t.facetsExcludes)})},E=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:m(m({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})},_=function(e,t){return e.setQueryParameters({numericRefinements:m(m({},e.numericRefinements),t.numericRefinements)})},T=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:m(m({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})},k=function(e,t){var n=g([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},A=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=T(e,t),r=S(n,t),i=x(r,t),a=_(i,t),s=E(a,t),o=F(s,t),c=P(o,t),u=j(c,t),f=k(u,t),h=O(f,t);return R(h,t)}))},D=function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var q=p({name:"index-widget"});function U(e){return"ais.index"===e.$$type}function Q(e,t){var n=t.state,r=t.isPageReset,i=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:r,_uiState:i}))}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce((function(e,n){return U(n)?e:n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(e,t):n.getWidgetState(e,t):e}),n)}function W(e,t){var n=t.initialSearchParameters,r=L(t,["initialSearchParameters"]);return e.filter((function(e){return!U(e)})).reduce((function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,r):e}),n)}function V(e){var t=e.filter(U);0!==t.length&&t.forEach((function(e){var t=e.getHelper();Q(t,{state:t.state.resetPage(),isPageReset:!0}),V(e.getWidgets())}))}function $(e){return e.filter(U).reduce((function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(C($(t.getWidgets()))))}),[])}var J=function(e){if(void 0===e||void 0===e.indexName)throw new Error(q("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=void 0===n?t:n,i=[],a={},s=null,o=null,c=null,u=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return c},getResults:function(){return u&&u.lastResults},getScopedResults:function(){var e=this.getParent();return $(e?e.getWidgets():[this])},getParent:function(){return o},createURL:function(e){return s._createURL(N({},r,B(i,{searchParameters:e,helper:c})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(q("The `addWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(q("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(e),s&&Boolean(e.length)&&(Q(c,{state:W(i,{uiState:a,initialSearchParameters:c.state}),_uiState:a}),e.forEach((function(e){e.getRenderState&&K({renderState:e.getRenderState(s.renderState[t.getIndexId()]||{},{uiState:s._initialUiState,helper:t.getHelper(),parent:t,instantSearchInstance:s,state:c.state,renderState:s.renderState,templatesConfig:s.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:s._isSearchStalled}}),instantSearchInstance:s,parent:t})})),e.forEach((function(e){e.init&&e.init({helper:c,parent:t,uiState:s._initialUiState,instantSearchInstance:s,state:c.state,renderState:s.renderState,templatesConfig:s.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:s._isSearchStalled}})})),s.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(q("The `removeWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(q("The widget definition expects a `dispose` method."));if(i=i.filter((function(t){return-1===e.indexOf(t)})),s&&Boolean(e.length)){var n=e.reduce((function(e,n){return n.dispose({helper:c,state:e,parent:t})||e}),c.state);a=B(i,{searchParameters:n,helper:c}),c.setState(W(i,{uiState:a,initialSearchParameters:n})),i.length&&s.scheduleSearch()}return this},init:function(e){var n,h=this,l=e.instantSearchInstance,d=e.parent,p=e.uiState;if(null===c){s=l,o=d,a=p[r]||{};var v=l.mainHelper,g=W(i,{uiState:a,initialSearchParameters:new(f().SearchParameters)({index:t})});(c=f()({},g.index,g)).search=function(){return l.onStateChange?(l.onStateChange({uiState:l.mainIndex.getWidgetUiState({}),setUiState:l.setUiState.bind(l)}),v):v.search()},c.searchWithoutTriggeringOnStateChange=function(){return v.search()},c.searchForFacetValues=function(e,t,n,r){var i=c.state.setQueryParameters(r);return v.searchForFacetValues(e,t,n,i)},u=v.derive((function(){return A.apply(void 0,C(D(h)))}));var y=null===(n=l._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(y){var m=new(f().SearchResults)(new(f().SearchParameters)(y.state),y.results);u.lastResults=m,c.lastResults=m}c.on("change",(function(e){e.isPageReset&&V(i)})),u.on("search",(function(){l.scheduleStalledRender()})),u.on("result",(function(e){var t=e.results;l.scheduleRender(),c.lastResults=t})),i.forEach((function(e){e.getRenderState&&K({renderState:e.getRenderState(l.renderState[h.getIndexId()]||{},{uiState:p,helper:c,parent:h,instantSearchInstance:l,state:c.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:h.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}}),instantSearchInstance:l,parent:h})})),i.forEach((function(e){e.init&&e.init({uiState:p,helper:c,parent:h,instantSearchInstance:l,state:c.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:h.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}})})),c.on("change",(function(e){var t=e.state,n=e._uiState;a=B(i,{searchParameters:t,helper:c},n||{}),l.onStateChange||l.onInternalStateChange()})),y&&l.scheduleRender()}},render:function(e){var t=this,n=e.instantSearchInstance;this.getResults()&&(i.forEach((function(e){e.getRenderState&&K({renderState:e.getRenderState(n.renderState[t.getIndexId()]||{},{helper:t.getHelper(),parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}}),instantSearchInstance:n,parent:t})})),i.forEach((function(e){e.render&&e.render({helper:c,parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}})})))},dispose:function(){var e=this;i.forEach((function(t){t.dispose&&t.dispose({helper:c,state:c.state,parent:e})})),s=null,o=null,c.removeAllListeners(),c=null,u.detach(),u=null},getWidgetUiState:function(e){return i.filter(U).reduce((function(e,t){return t.getWidgetUiState(e)}),H(H({},e),{},N({},this.getIndexId(),a)))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){var n=t.uiState;return W(i,{uiState:n,initialSearchParameters:e})},refreshUiState:function(){a=B(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)}}};function K(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=H(H({},n.renderState),{},N({},i,H(H({},n.renderState[i]),t)))}var Z=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",a=r?"--".concat(r):"";return"".concat("ais","-").concat(e).concat(i).concat(a)}};var z=function(e,t){return(Array.isArray(t)?t:t.split(".")).reduce((function(e,t){return e&&e[t]}),e)},G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},X=/[&<>"']/g,Y=RegExp(X.source);var ee=function(e){return e&&Y.test(e)?e.replace(X,(function(e){return G[e]})):e};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}var ne=function(e){if(!function(e){return"object"===te(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},ce="<mark>",ue="</mark>";function fe(e){return ee(e).replace(new RegExp(oe.highlightPreTag,"g"),ce).replace(new RegExp(oe.highlightPostTag,"g"),ue)}function he(e){return ne(e)&&"string"!=typeof e.value?Object.keys(e).reduce((function(t,n){return ae(ae({},t),{},se({},n,he(e[n])))}),{}):Array.isArray(e)?e.map(he):ae(ae({},e),{},{value:fe(e.value)})}function le(e){return void 0===e.__escaped&&((e=e.map((function(e){var t=re({},e);return t._highlightResult&&(t._highlightResult=he(t._highlightResult)),t._snippetResult&&(t._snippetResult=he(t._snippetResult)),t}))).__escaped=!0),e}var de=Z("Highlight");function pe(e){var t=ce,n=ue;return e.map((function(e){return e.isHighlighted?t+e.value+n:e.value})).join("")}var ve={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ge=/&(amp|quot|lt|gt|#39);/g,ye=RegExp(ge.source);var me=new RegExp(/\w/i);function be(e,t){var n,r,i,a=e[t],s=(null===(n=e[t+1])||void 0===n?void 0:n.isHighlighted)||!0,o=(null===(r=e[t-1])||void 0===r?void 0:r.isHighlighted)||!0;return me.test((i=a.value)&&ye.test(i)?i.replace(ge,(function(e){return ve[e]})):i)||o!==s?a.isHighlighted:o}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,n){return Re(Re({},t),{},{isHighlighted:!be(e,n)})})):e.map((function(e){return Re(Re({},e),{},{isHighlighted:!1})}))}function Se(e){var t=ue,n=ce,r=e.split(n),i=r.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return r.forEach((function(e){var n=e.split(t);a.push({value:n[0],isHighlighted:!0}),""!==n[1]&&a.push({value:n[1],isHighlighted:!1})})),a}var xe=Z("ReverseHighlight");var Pe=Z("Snippet");var Fe=Z("ReverseSnippet");function Ee(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Te(e,t){return function(e){var t,n=e.method,r=e.payload;if("object"!==_e(r))throw new Error("The insights helper expects the payload to be an object.");try{t=Ee(r)}catch(i){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){var t=e.numberLocale;return{formatNumber:function(e,n){return Number(n(e)).toLocaleString(t)},highlight:function(e,t){try{return t(function(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,o=(z(i._highlightResult,t)||{}).value,c=void 0===o?"":o,u=de({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return c.replace(new RegExp(ce,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(ue,"g"),"</".concat(r,">"))}(Ae(Ae({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(function(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,o=(z(i._highlightResult,t)||{}).value,c=void 0===o?"":o,u=xe({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return pe(je(Se(c))).replace(new RegExp(ce,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(ue,"g"),"</".concat(r,">"))}(Ae(Ae({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(function(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,o=(z(i._snippetResult,t)||{}).value,c=void 0===o?"":o,u=Pe({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return c.replace(new RegExp(ce,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(ue,"g"),"</".concat(r,">"))}(Ae(Ae({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(function(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,o=(z(i._snippetResult,t)||{}).value,c=void 0===o?"":o,u=Fe({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return pe(je(Se(c))).replace(new RegExp(ce,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(ue,"g"),"</".concat(r,">"))}(Ae(Ae({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var n=JSON.parse(e),r=n.method,i=n.payload;return t(Te(r,Ae({objectIDs:[this.objectID]},i)))}catch(a){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}var He=Promise.resolve(),Ne=function(e){var t=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];null===t&&(t=He.then((function(){t=null,n?n=!1:e.apply(void 0,i)})))};return r.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){null!==t&&(n=!0)},r};var Ce=function(){};function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qe(e){e.configure;return Ue(e,["configure"])}function Be(){return{stateToRoute:function(e){return Object.keys(e).reduce((function(t,n){return Le(Le({},t),{},qe({},n,Qe(e[n])))}),{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){return Le(Le({},t),{},qe({},n,Qe(e[n])))}),{})}}}var We=n(832),Ve=n.n(We);function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},n=t.fallback;return"undefined"==typeof window?n():e({window:window})}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=function(e){e&&(window.document.title=e)},ze=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,a=void 0===i?400:i,s=t.createURL,o=t.parseURL,c=t.getLocation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ke(this,"windowTitle",void 0),Ke(this,"writeDelay",void 0),Ke(this,"_createURL",void 0),Ke(this,"parseURL",void 0),Ke(this,"getLocation",void 0),Ke(this,"writeTimer",void 0),Ke(this,"inPopState",!1),Ke(this,"isDisposed",!1),Ke(this,"latestAcknowledgedHistory",0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=o,this.getLocation=c,$e((function(e){var t=e.window,r=n.windowTitle&&n.windowTitle(n.read());Ze(r),n.latestAcknowledgedHistory=t.history.length}))}var t,n,r;return t=e,(n=[{key:"read",value:function(){return this.parseURL({qsModule:Ve(),location:this.getLocation()})}},{key:"write",value:function(e){var t=this;$e((function(n){var r=n.window,i=t.createURL(e),a=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout((function(){Ze(a),t.shouldWrite(i)&&(r.history.pushState(e,a||"",i),t.latestAcknowledgedHistory=r.history.length),t.inPopState=!1,t.writeTimer=void 0}),t.writeDelay)}))}},{key:"onUpdate",value:function(e){var t=this;this._onPopState=function(n){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0;var r=n.state;e(r||t.read())},$e((function(e){e.window.addEventListener("popstate",t._onPopState)}))}},{key:"createURL",value:function(e){return this._createURL({qsModule:Ve(),routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this.isDisposed=!0,$e((function(t){var n=t.window;e._onPopState&&n.removeEventListener("popstate",e._onPopState)})),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(e){var t=this;return $e((function(n){var r=n.window,i=!(t.isDisposed&&t.latestAcknowledgedHistory!==r.history.length);return!t.inPopState&&i&&e!==r.location.href}))}}])&&Je(t.prototype,n),r&&Je(t,r),e}();function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,n=void 0===t?function(e){var t=e.qsModule,n=e.routeState,r=e.location,i=r.protocol,a=r.hostname,s=r.port,o=void 0===s?"":s,c=r.pathname,u=r.hash,f=t.stringify(n),h=""===o?"":":".concat(o);return f?"".concat(i,"//").concat(a).concat(h).concat(c,"?").concat(f).concat(u):"".concat(i,"//").concat(a).concat(h).concat(c).concat(u)}:t,r=e.parseURL,i=void 0===r?function(e){var t=e.qsModule,n=e.location;return t.parse(n.search.slice(1),{arrayLimit:99})}:r,a=e.writeDelay,s=void 0===a?400:a,o=e.windowTitle,c=e.getLocation,u=void 0===c?function(){return $e((function(e){return e.window.location}),{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c;return new ze({createURL:n,parseURL:i,writeDelay:s,windowTitle:o,getLocation:u})}function Xe(e){return e!==Object(e)}var Ye=function e(t,n){if(t===n)return!0;if(Xe(t)||Xe(n)||"function"==typeof t||"function"==typeof n)return t===n;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var r=0,i=Object.keys(t);r<i.length;r++){var a=i[r];if(!(a in n))return!1;if(!e(t[a],n[a]))return!1}return!0};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t,n){var r=t.mainIndex,i={instantSearchInstance:t,parent:r,scopedResults:[],state:r.getHelper().state,helper:r.getHelper(),createURL:r.createURL,uiState:t._initialUiState,renderState:t.renderState,templatesConfig:t.templatesConfig,searchMetadata:{isSearchStalled:t._isSearchStalled}};e.forEach((function(e){var r={};if(e.getWidgetRenderState){var a=e.getWidgetRenderState(i);a&&a.widgetParams&&(r=a.widgetParams)}var s=Object.keys(r).filter((function(e){return void 0!==r[e]}));n.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:s}),"ais.index"===e.$$type&&rt(e.getWidgets(),t,n)}))}function it(){return function(e){var t=e.instantSearchInstance,n={widgets:[]},r=document.createElement("meta"),i=document.querySelector("head");return r.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout((function(){var e=t.client;n.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,rt(t.mainIndex.getWidgets(),t,n),r.content=JSON.stringify(n),i.appendChild(r)}),0)},unsubscribe:function(){r.remove()}}}}function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ut(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var i=dt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}function pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=p({name:"instantsearch"});function gt(){return"#"}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(a,e);var t,n,r,i=ft(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),pt(lt(t=i.call(this)),"client",void 0),pt(lt(t),"indexName",void 0),pt(lt(t),"insightsClient",void 0),pt(lt(t),"onStateChange",null),pt(lt(t),"helper",void 0),pt(lt(t),"mainHelper",void 0),pt(lt(t),"mainIndex",void 0),pt(lt(t),"started",void 0),pt(lt(t),"templatesConfig",void 0),pt(lt(t),"renderState",{}),pt(lt(t),"_stalledSearchDelay",void 0),pt(lt(t),"_searchStalledTimer",void 0),pt(lt(t),"_isSearchStalled",void 0),pt(lt(t),"_initialUiState",void 0),pt(lt(t),"_initialResults",void 0),pt(lt(t),"_createURL",void 0),pt(lt(t),"_searchFunction",void 0),pt(lt(t),"_mainHelperSearch",void 0),pt(lt(t),"middleware",[]),pt(lt(t),"sendEventToInsights",void 0),pt(lt(t),"scheduleSearch",Ne((function(){t.started&&t.mainHelper.search()}))),pt(lt(t),"scheduleRender",Ne((function(){t.mainHelper.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,t._isSearchStalled=!1),t.mainIndex.render({instantSearchInstance:lt(t)}),t.emit("render")}))),pt(lt(t),"onInternalStateChange",Ne((function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach((function(t){t.instance.onStateChange({uiState:e})}))})));var n=e.indexName,r=void 0===n?null:n,s=e.numberLocale,o=e.initialUiState,c=void 0===o?{}:o,u=e.routing,f=void 0===u?null:u,h=e.searchFunction,l=e.stalledSearchDelay,d=void 0===l?200:l,p=e.searchClient,v=void 0===p?null:p,g=e.insightsClient,y=void 0===g?null:g,m=e.onStateChange,b=void 0===m?null:m;if(null===r)throw new Error(vt("The `indexName` option is required."));if(null===v)throw new Error(vt("The `searchClient` option is required."));if("function"!=typeof v.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof v.addAlgoliaAgent&&v.addAlgoliaAgent("instantsearch.js (".concat("4.40.6",")")),y&&"function"!=typeof y)throw new Error(vt("The `insightsClient` option should be a function."));if(t.client=v,t.insightsClient=y,t.indexName=r,t.helper=null,t.mainHelper=null,t.mainIndex=J({indexName:r}),t.onStateChange=b,t.started=!1,t.templatesConfig={helpers:Ie({numberLocale:s}),compileOptions:{}},t._stalledSearchDelay=d,t._searchStalledTimer=null,t._isSearchStalled=!1,t._createURL=gt,t._initialUiState=c,t._initialResults=null,h&&(t._searchFunction=h),t.sendEventToInsights=Ce,f){var w="boolean"==typeof f?void 0:f;t.use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?Ge():t,r=e.stateMapping,i=void 0===r?Be():r;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var r=Object.keys(e).reduce((function(t,n){return tt(tt({},t),{},nt({},n,e[n]))}),t.mainIndex.getWidgetUiState({})),a=i.stateToRoute(r);return n.createURL(a)};var r=void 0,a=t._initialUiState;return{onStateChange:function(e){var t=e.uiState,a=i.stateToRoute(t);void 0!==r&&Ye(r,a)||(n.write(a),r=a)},subscribe:function(){t._initialUiState=tt(tt({},a),i.routeToState(n.read())),n.onUpdate((function(e){t.setUiState(i.routeToState(e))}))},unsubscribe:function(){n.dispose()}}}}(w))}return $e((function(e){var t,n;return(null===(t=e.window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.indexOf("Algolia Crawler"))>-1}),{fallback:function(){return!1}})&&t.use(it()),t}return t=a,n=[{key:"use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map((function(t){var n=ot({subscribe:Ce,unsubscribe:Ce,onStateChange:Ce},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:n}),n}));return this.started&&i.forEach((function(e){e.subscribe()})),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.middleware.filter((function(e){return t.includes(e.creator)})).forEach((function(e){return e.instance.unsubscribe()})),this.middleware=this.middleware.filter((function(e){return!t.includes(e.creator)})),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(vt("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(vt("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(vt("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(vt("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(vt("The `start` method has already been called once."));var t=this.mainHelper||f()(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var n={search:function(){return new Promise(Ce)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var r=e.mainIndex.getHelper(),i=f()(n,r.state.index,r.state);return i.once("search",(function(t){var n=t.state;r.overrideStateWithoutTriggeringChangeEvent(n),e._mainHelperSearch()})),i.on("change",(function(e){var t=e.state;r.setState(t)})),e._searchFunction(i),t}}if(t.on("error",(function(t){var n=t.error;n.error=n,e.emit("error",n)})),this.mainHelper=t,this.middleware.forEach((function(e){e.instance.subscribe()})),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var r=this.scheduleSearch;this.scheduleSearch=Ne(Ce),Ne((function(){e.scheduleSearch=r}))()}else this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(e){e.instance.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){e._isSearchStalled=!0,e.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(e){if(!this.mainHelper)throw new Error(vt("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var t="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;!function e(n){var r=t[n.getIndexId()]||{};n.getHelper().setState(n.getWidgetSearchParameters(n.getHelper().state,{uiState:r})),n.getWidgets().filter(U).forEach(e)}(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(vt("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(vt("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}],n&&ct(t.prototype,n),r&&ct(t,r),a}(l()),mt=yt,bt=(0,r.createContext)(null);function wt(){return(0,r.useContext)(bt)}var Rt=(0,r.createContext)(null);var Ot="6.26.0",jt=n(885);var St=n(1002),xt=Object.prototype.hasOwnProperty;function Pt(e,t,n){if(null!=n&&n(e,t))return!0;var r,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((i=e.length)===t.length)for(;i--&&Pt(e[i],t[i],n););return-1===i}if(!r||"object"===(0,St.Z)(e)){for(r in i=0,e){if(xt.call(e,r)&&++i&&!xt.call(t,r))return!1;if(!(r in t)||!Pt(e[r],t[r],n))return!1}return Object.keys(t).length===i}}return e!=e&&t!=t}function Ft(e){var t=(0,r.useState)((function(){return e})),n=(0,jt.Z)(t,2),i=n[0],a=n[1];return(0,r.useEffect)((function(){Pt(i,e)||a(e)}),[e]),i}var Et=["react (".concat(r.version,")"),"react-instantsearch (".concat(Ot,")"),"react-instantsearch-hooks (".concat(Ot,")")];function _t(e){var t,n=wt(),i=(0,r.useContext)(Rt),a=Ft(e),s=(0,r.useMemo)((function(){return function(e,t,n,r){var i=null==r?void 0:r.initialResults;(n||i)&&(e._initialResults=i||{},e.start());n&&(Tt(t.searchClient,[].concat(Et,["react-instantsearch-server (".concat(Ot,")")])),n.notifyServer({search:e}));return e}(new mt(a),a,n,i)}),[a,n,i]),o=(t=(0,r.useReducer)((function(e){return e+1}),0),(0,jt.Z)(t,2)[1]);return(0,r.useEffect)((function(){Tt(a.searchClient,Et)}),[a.searchClient]),(0,r.useEffect)((function(){return s.started||(s.start(),o()),function(){s.dispose()}}),[s,i,o]),s}function Tt(e,t){"function"==typeof e.addAlgoliaAgent&&t.forEach((function(t){e.addAlgoliaAgent(t)}))}var kt=["children"];function At(e){var t=e.children,n=_t(s(e,kt));return n.started?r.createElement(c.Provider,{value:n},r.createElement(o.Provider,{value:n.mainIndex},t)):null}var Dt=n(7462);var It=function(e){return Object.prototype.toString.call(e).slice(8,-1)};var Ht=function(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(It(e),").\n\n").concat(t))};function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}var Ct=function(e){var t=e.index,n=e.widgetType,r=(e.methodName,e.args);if(1===r.length&&"object"===Nt(r[0]))return[r[0]];var i=r[0],a=r[1],s=r[2];if(!a)return[];if(("click"===i||"conversion"===i)&&!s)return[];var o=Array.isArray(a)?function(e){return e.slice()}(a):[a];if(0===o.length)return[];var c=o[0].__queryID,u=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}(o),f=u.map((function(e){return e.map((function(e){return e.objectID}))})),h=u.map((function(e){return e.map((function(e){return e.__position}))}));return"view"===i?u.map((function(e,r){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:i,payload:{eventName:s||"Hits Viewed",index:t,objectIDs:f[r]},hits:e}})):"click"===i?u.map((function(e,r){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:{eventName:s,index:t,queryID:c,objectIDs:f[r],positions:h[r]},hits:e}})):"conversion"===i?u.map((function(e,r){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:i,payload:{eventName:s,index:t,queryID:c,objectIDs:f[r]},hits:e}})):[]};function Mt(e){var t=e.instantSearchInstance,n=e.index,r=e.widgetType;return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var s=Ct({widgetType:r,index:n,methodName:"sendEvent",args:i});s.forEach((function(e){return t.sendEventToInsights(e)}))}}function Lt(e){var t=e.index,n=e.widgetType;return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=Ct({widgetType:n,index:t,methodName:"bindEvent",args:r});return a.length?"data-insights-event=".concat(Ee(a)):""}}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t,n){return e.map((function(e,r){return Ut(Ut({},e),{},{__position:n*t+r+1})}))}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){return t?e.map((function(e){return Vt(Vt({},e),{},{__queryID:t})})):e}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gt=p({name:"hits",connector:!0}),Xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce;return Ht(e,Gt()),function(n){var r,i,a=n||{},s=a.escapeHTML,o=void 0===s||s,c=a.transformItems,u=void 0===c?function(e){return e}:c;return{$$type:"ais.hits",init:function(t){e(Zt(Zt({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this.getWidgetRenderState(t);e(Zt(Zt({},n),{},{instantSearchInstance:t.instantSearchInstance}),!1),n.sendEvent("view",n.hits)},getRenderState:function(e,t){return Zt(Zt({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,a=e.helper,s=e.instantSearchInstance;if(r||(r=Mt({instantSearchInstance:s,index:a.getIndex(),widgetType:this.$$type})),i||(i=Lt({index:a.getIndex(),widgetType:this.$$type})),!t)return{hits:[],results:void 0,sendEvent:r,bindEvent:i,widgetParams:n};o&&t.hits.length>0&&(t.hits=le(t.hits));var c=Jt(Bt(t.hits,t.page,t.hitsPerPage),t.queryID);return{hits:u(c,{results:t}),results:t,sendEvent:r,bindEvent:i,widgetParams:n}},dispose:function(e){var n=e.state;return t(),o?n.setQueryParameters(Object.keys(oe).reduce((function(e,t){return Zt(Zt({},e),{},zt({},t,void 0))}),{})):n},getWidgetSearchParameters:function(e){return o?e.setQueryParameters(oe):e}}}},Yt=n(4942);function en(e){var t,n,r;return new(f().SearchResults)(e,[{query:null!==(t=e.query)&&void 0!==t?t:"",page:null!==(n=e.page)&&void 0!==n?n:0,hitsPerPage:null!==(r=e.hitsPerPage)&&void 0!==r?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function tn(e,t){if(!e)throw new Error("Invariant failed")}function nn(){var e=(0,r.useContext)(o);return tn(null!==e),e}function rn(){var e=(0,r.useContext)(c);return tn(null!==e),e}var an="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,sn=["instantSearchInstance","widgetParams"],on=["widgetParams"];function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){(0,Yt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=wt(),a=rn(),o=nn(),c=Ft(t),u=Ft(n),f=(0,r.useRef)(!0),h=(0,r.useRef)(null),l=(0,r.useMemo)((function(){var t=un(un({},e((function(e,t){if(t)f.current=!0;else if(f.current){e.instantSearchInstance,e.widgetParams;var n=s(e,sn);Pt(n,h.current,(function(e,t){return(null==e?void 0:e.constructor)===Function&&(null==t?void 0:t.constructor)===Function}))||(g(n),h.current=n)}}),(function(){f.current=!1}))(c)),u);return i&&o.addWidgets([t]),t}),[e,o,i,c,u]),d=(0,r.useState)((function(){if(l.getWidgetRenderState){var e,t=o.getHelper(),n=o.getWidgetUiState({})[o.getIndexId()];t.state=(null===(e=l.getWidgetSearchParameters)||void 0===e?void 0:e.call(l,t.state,{uiState:n}))||t.state;var r=o.getResults()||en(t.state),i=o.getScopedResults().map((function(e){var t=e.indexId===o.getIndexId()?r:en(e.helper.state);return un(un({},e),{},{results:e.results||t})})),c=l.getWidgetRenderState({helper:t,parent:o,instantSearchInstance:a,results:r,scopedResults:i,state:t.state,renderState:a.renderState,templatesConfig:a.templatesConfig,createURL:o.createURL,searchMetadata:{isSearchStalled:a._isSearchStalled}});c.widgetParams;return s(c,on)}return{}})),p=(0,jt.Z)(d,2),v=p[0],g=p[1];return an((function(){return o.addWidgets([l]),function(){o.removeWidgets([l])}}),[l,o]),v}function hn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var ln=["hits","sendEvent","hitComponent","classNames"];function dn(e){var t=e.hit;return r.createElement("div",{style:{wordBreak:"break-all"}},JSON.stringify(t).slice(0,100),"…")}function pn(e){var t=e.hits,n=e.sendEvent,i=e.hitComponent,a=void 0===i?dn:i,o=e.classNames,c=void 0===o?{}:o,u=s(e,ln);return r.createElement("div",(0,Dt.Z)({},u,{className:hn("ais-Hits",c.root,0===t.length&&hn("ais-Hits--empty",c.emptyRoot),u.className)}),r.createElement("ol",{className:hn("ais-Hits-list",c.list)},t.map((function(e){return r.createElement("li",{key:e.objectID,className:hn("ais-Hits-item",c.item)},r.createElement(a,{hit:e,sendEvent:n}))}))))}function vn(e){var t=function(e,t){return fn(Xt,e,t)}(e,{$$widgetType:"ais.hits"}),n={hits:t.hits,sendEvent:t.sendEvent};return r.createElement(pn,(0,Dt.Z)({},e,n))}function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bn=p({name:"search-box",connector:!0}),wn=function(e,t){return t(e)},Rn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce;return Ht(e,bn()),function(n){var r,i,a=(n||{}).queryHook,s=void 0===a?wn:a;return{$$type:"ais.searchBox",init:function(t){var n=t.instantSearchInstance;e(yn(yn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(yn(yn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("query",void 0)},getRenderState:function(e,t){return yn(yn({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper,a=e.searchMetadata,o=e.state;return r||(r=function(e){s(e,(function(e){return t.setQuery(e).search()}))},i=function(){t.setQuery("").search()}),{query:o.query||"",refine:r,clear:i,widgetParams:n,isSearchStalled:a.isSearchStalled}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:yn(yn({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("query",n.query||"")}}}};var On=n(4489),jn=n(9533),Sn=n(5751),xn=(0,On.instantMeiliSearch)("https://search.tonypepe.com","e98490acb78ad48ba2e978cb99444a0250c79d2d3788808acdf06790158341e9");function Pn(){return r.createElement(i.Z,null,r.createElement(At,{indexName:"gatsby-blog",searchClient:xn},r.createElement(Fn,null),r.createElement(vn,{hitComponent:En})))}var Fn=function(e){var t=function(e,t){return fn(Rn,e,t)}(e),n=(t.query,t.refine),i=(t.clear,t.isSearchStalled);return r.createElement("div",null,r.createElement("input",{type:"text",placeholder:"Search anything...",onChange:function(e){return n(e.target.value)},className:"focus:outline-none focus:ring rounded-md p-2 w-full text-2xl"}),i&&r.createElement("span",{className:"text-lg text-gray-600"},"Searching..."))},En=function(e){var t=e.hit,n=t.summary,i=t.title,s=t.url,o=t.tags,c=(0,a.TU)(n);return r.createElement("div",{className:"my-4 bg-white rounded-md py-4 px-6"},r.createElement("h1",{className:"pt-2 text-2xl"},i),r.createElement("div",{className:"pt-5",dangerouslySetInnerHTML:{__html:c}}),r.createElement(jn.Z,{href:s}),r.createElement("div",{className:"h-2"}),o&&r.createElement(Sn.Z,{tags:o}))}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=component---src-pages-search-tsx-c7eb024626489a0904c1.js.map